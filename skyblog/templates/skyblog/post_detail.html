{% extends 'skyblog/base.html' %}
{% load my_tags %}
{% block title %}{{ post.title }}{% endblock %}
{% block content %}
<div class="container mt-5">
    <article class="blog-post">
        <header class="mb-4">
            <h1 class="fw-bolder mb-1">{{ post.title }}</h1>
            <div class="text-muted fst-italic mb-2">Created at {{ post.created_at|date:"d M Y" }}</div>
            {% if post.preview_image %}
                <img src="{{ post.preview_image|media_filter }}" class="img-fluid rounded mb-4 post-image" alt="Preview Image">
            {% endif %}
        </header>
        <section class="mb-5">
            <p class="fs-5 mb-4">{{ post.content|linebreaks }}</p>
        </section>
        <footer class="d-flex justify-content-between align-items-center">
            <div class="btn-group">
                <a class="btn btn-outline-primary" href="{% url 'skyblog:post_list' %}" role="button">Back</a>
                {% if user.is_authenticated %}
                <a class="btn btn-outline-primary" href="{% url 'skyblog:edit_post' post.pk %}" role="button">Edit</a>
                <a class="btn btn-outline-danger" href="{% url 'skyblog:delete_post' post.pk %}" role="button">Delete</a>
                {% endif %}
            </div>
            <small class="text-muted">Views: {{ post.views_count }}</small>
        </footer>
    </article>
</div>
{% endblock %}